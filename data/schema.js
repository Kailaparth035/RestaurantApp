import { appSchema, tableSchema } from "@nozbe/watermelondb";

export default appSchema({
  version: 1.81,
  tables: [
    tableSchema({
      name: "rfid_assets",
      columns: [
        { name: "rfid_id", type: "number" },
        { name: "uid", type: "string" },
        { name: "last_four_phone_numbers", type: "string" },
        { name: "is_active", type: "boolean" },
        { name: "event_id", type: "number" },
        { name: "created_at", type: "number" },
        { name: "updated_at", type: "number" },
        { name: "tokens_balance", type: "string", isOptional: true },
        { name: "cash_balance", type: "number", isOptional: true },
        { name: "promo_balance", type: "number", isOptional: true },
        { name: "attendee_id", type: "number", isOptional: true },
        { name: "is_sync", type: "boolean" },
      ],
    }),
    tableSchema({
      name: "discounts",
      columns: [
        { name: "amount", type: "number", isOptional: true },
        { name: "code", type: "string", isOptional: true },
        { name: "description", type: "string", isOptional: false },
        { name: "discount_type", type: "string", isOptional: false },
        { name: "name", type: "string", isOptional: false },
        { name: "percentage", type: "number", isOptional: true },
        { name: "discount_id", type: "number", isOptional: false },
        { name: "created_at", type: "number", isOptional: false },
        { name: "updated_at", type: "number", isOptional: false },
      ],
    }),
    tableSchema({
      name: "orders",
      columns: [
        { name: "order_id", type: "number", isOptional: true },
        { name: "items", type: "string", isOptional: true },
        { name: "discount", type: "string", isOptional: true },
        { name: "subtotal", type: "number", isOptional: true },
        { name: "tax", type: "number", isOptional: true },
        { name: "tip", type: "number", isOptional: true },
        {
          name: "digital_surcharge_percentage",
          type: "number",
          isOptional: true,
        },
        { name: "digital_surcharge_label", type: "string", isOptional: true },
        { name: "digital_surcharge_amount", type: "number", isOptional: true },
        { name: "status", type: "string", isOptional: true },
        { name: "app_device_id", type: "string", isOptional: false },
        { name: "device_id", type: "number", isOptional: true },
        { name: "user_id", type: "number", isOptional: true },
        { name: "created_at", type: "number" },
        { name: "transaction_at", type: "number", isOptional: true },
        { name: "reference_id", type: "string", isOptional: true },
        { name: "attendee_id", type: "string", isOptional: true },
        { name: "phone_number", type: "string", isOptional: true },
        { name: "transaction_time", type: "string", isOptional: true },
        { name: "event_id", type: "number", isOptional: true },
        { name: "location_id", type: "number", isOptional: true },
        { name: "user_id", type: "number", isOptional: true },
        { name: "payment_method", type: "string", isOptional: true },
        { name: "payments", type: "string", isOptional: true },
        { name: "is_pushed", type: "boolean" },
        { name: "uid", type: "string", isOptional: true },
        { name: "tokens_redeemed", type: "string", isOptional: true },
        { name: "mx_ref_id", type: "string", isOptional: true },
        { name: "vendor_id", type: "number", isOptional: true },
        { name: "menu_id", type: "number", isOptional: true },
      ],
    }),
    tableSchema({
      name: "locations",
      columns: [
        { name: "location_id", type: "number" },
        { name: "name", type: "string" },
        { name: "is_active", type: "boolean" },
        { name: "event_id", type: "number" },
        { name: "created_at", type: "number" },
        { name: "updated_at", type: "number" },
        { name: "locationMenus", type: "string" },
        { name: "payment_processor_config", type: "string" },
        { name: "payment_processor", type: "string" },
        { name: "digital_surcharge_percentage", type: "number" },
        { name: "vendor_id", type: "number", isOptional: true },
        { name: "dynamic_descriptor", type: "string" },
        { name: "redeemable_tokens", type: "string" },
      ],
    }),
    tableSchema({
      name: "events",
      columns: [
        { name: "event_id", type: "number" },
        { name: "name", type: "string" },
        { name: "configuration", type: "string" },
        { name: "currency", type: "string" },
        { name: "timezone", type: "string" },
        { name: "start_date", type: "number" },
        { name: "end_date", type: "number" },
        { name: "created_at", type: "number" },
        { name: "updated_at", type: "number" },
        { name: "payment_types", type: "string" },
        { name: "available_tokens", type: "string" },
        { name: "organization_id", type: "number" },
        { name: "digital_surcharge_label", type: "string" },
        { name: "dynamic_descriptor", type: "string" },
        { name: "is_org_logout_protected", type: "boolean" },
        { name: "is_clerk_logout_protected", type: "boolean" },
        { name: "event_passcode", type: "string" },
        // { name: "redeemable_tokens", type: "string", isOptional: true },
      ],
    }),
    tableSchema({
      name: "menus",
      columns: [
        { name: "menu_id", type: "number" },
        { name: "name", type: "string" },
        { name: "items", type: "string" },
        { name: "is_active", type: "boolean" },
        { name: "event_id", type: "number" },
        { name: "created_at", type: "number" },
        { name: "updated_at", type: "number" },
        { name: "location_id", type: "string" },
        { name: "location_menus", type: "string", isIndexed: true },
        { name: "tax_type", type: "string" },
        { name: "is_cash", type: "boolean" },
        { name: "is_credit", type: "boolean" },
        { name: "is_rfid", type: "boolean" },
        { name: "is_qr", type: "boolean" },
        { name: "is_tips", type: "boolean" },
        { name: "tip_percentage_1", type: "number" },
        { name: "tip_percentage_2", type: "number" },
        { name: "tip_percentage_3", type: "number" },
        { name: "is_custom_item", type: "boolean" },
        { name: "category", type: "string" },
        { name: "is_discount", type: "boolean" },
        { name: "is_discount_protected", type: "boolean" },
        { name: "is_cash_not_taxed", type: "boolean" },
        { name: "processing_mode", type: "string" },
      ],
    }),
    tableSchema({
      name: "users",
      columns: [
        { name: "user_id", type: "number" },
        { name: "validation_code", type: "string" },
        { name: "password_hash", type: "string" },
        { name: "created_at", type: "number" },
        { name: "updated_at", type: "number" },
        { name: "phone_number", type: "string" },
        { name: "validation_time", type: "number" },
        { name: "vendor_id", type: "string" },
        { name: "username", type: "string" },
        { name: "email", type: "string" },
        { name: "role_id", type: "number" },
        { name: "organisation_id", type: "number" },
        { name: "tablet_access_code", type: "string" },
        { name: "event_id", type: "number" },
      ],
    }),
    tableSchema({
      name: "attendees",
      columns: [
        { name: "is_active", type: "boolean" },
        { name: "phone_number", type: "string", isIndexed: true },
        { name: "personnal_pin", type: "string" },
        { name: "event_id", type: "number" },
        { name: "promo_balance", type: "number" },
        { name: "promo_balance_rfid_applied", type: "boolean" },
        { name: "is_pushed", type: "boolean" },
        { name: "status", type: "string" },
        { name: "unsynced_rfid_uid", type: "string" },
        { name: "card_on_files", type: "string" },
      ],
    }),
    tableSchema({
      name: "syncs",
      columns: [
        { name: "endpoint", type: "string" },
        { name: "created_at", type: "number" },
        { name: "updated_at", type: "number" },
      ],
    }),
    tableSchema({
      name: "menuItems",
      columns: [
        { name: "menu_item_id", type: "number" },
        { name: "name", type: "string" },
        { name: "is_active", type: "boolean" },
        { name: "created_at", type: "number" },
        { name: "updated_at", type: "number" },
        { name: "price", type: "number" },
        { name: "image", type: "string" },
        { name: "short_name", type: "string" },
        { name: "unique_id", type: "number" },
        { name: "description", type: "string" },
        { name: "redeemable_token_id", type: "string" },
        { name: "redeemable_token_name", type: "string" },
        { name: "token_price", type: "number" },
        { name: "tax_percentage", type: "number" },
        { name: "tax", type: "string" },
        { name: "upc", type: "string" },
        { name: "is_favorite", type: "boolean" },
        { name: "modifiers", type: "string" },
        { name: "modifier_type", type: "string" },
        { name: "is_variable_price", type: "boolean" },
      ],
    }),
  ],
});
